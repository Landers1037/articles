---
title: shell学习笔记5
name: shell-note5
date: 2021-05-23 13:43:02
id: 0
tags: [shell]
categories: []
abstract: ""
---

使用`echo`和`printf`格式化字符串 实现控制台颜色输出


<!--more-->

使用`echo`和`printf`格式化字符串 实现控制台颜色输出

<!--more-->

## echo -e

使用`-e`可以打印转义字符，颜色输出就是在终端对颜色控制符号进行转义

```bash
echo -e "\033[40mtest\033[0m"
```

`\033[`就是esc的转义字符

## 转义字符

```bash
0      　     重新设置属性到缺省设置
1     　      设置粗体
2     　      设置一半亮度(模拟彩色显示器的颜色)
4     　      设置下划线(模拟彩色显示器的颜色)
5     　      设置闪烁
7     　      设置反向图象
22    　      设置一般密度
24    　      关闭下划线
25     　     关闭闪烁
27     　     关闭反向图象
30      　    设置黑色前景（文字颜色）
31   　       设置红色前景
32   　       设置绿色前景
33   　       设置黄色前景
34   　       设置蓝色前景
35    　      设置紫色前景
36     　     设置青色前景
37    　      设置白色(灰色)前景
38      　    在缺省的前景颜色上设置下划线
39      　    在缺省的前景颜色上关闭下划线
40      　    设置黑色背景
41      　    设置红色背景
42     　     设置绿色背景
43     　     设置黄色背景
44     　     设置蓝色背景
45     　     设置紫色背景
46     　     设置青色背景
47      　    设置白色(灰色)背景
49      　    设置缺省黑色背景
          
\33[0m		关闭所有属性
\33[01m 	设置高亮度
\33[04m 	下划线
\33[05m 	闪烁
\33[07m 	反显
\33[08m 	消隐
\33[30m – \33[37m 设置前景色
\33[40m – \33[47m 设置背景色
\33[nA 		光标上移n行
\33[nB 		光标下移n行
\33[nC 		光标右移n行
\33[nD 		光标左移n行
\33[K 		清除从光标到行尾的内容
\33[s 		保存光标位置
\33[u 		恢复光标位置
\33[?25l 	隐藏光标
\33[?25h 	显示光标
\033[2J  　 清除屏幕
\033[0q  　 关闭所有的键盘指示灯
\033[1q 　  设置"滚动锁定"指示灯(Scroll Lock)
\033[2q 　  设置"数值锁定"指示灯(Num Lock)
\033[3q 　  设置"大写锁定"指示灯(Caps Lock)
\033[15:40H 把关闭移动到第15行，40列
\007  　　   蜂鸣beep
```

可以看出颜色控制符号前景色 + 10就是背景色

## 带背景前景色

```bash
echo -e "\033[42;37mhello,world\033[0m"
```



## 示例

![demo](/images/shell-note5-1.png)

## prinf

类似c的printf用于格式化字符串 使用风格相似

### 基础使用

```bash
printf  format-string  [arguments...]
```

格式化符后面可以添加多个参数数组

```bash
printf "today is: %s" $(date +%Y-%m-%d)
today is: 2021-05-23
```

### 格式化符

同c语言标准的格式化一样

```bash
%s 格式化输出字符串
%f 格式化输出小数
%d 格式化输出整数
%c 格式化输出字符
```

### 特殊操作

`%-Ns`控制字符串左对齐长度n

```bash
root@landers:/code# printf "%-10s10个长度\n" "#"
#         10个长度
```

默认为右侧对齐的方式

```bash
root@landers:/code# printf "%10s10个长度\n" "#"
         #10个长度
```

`%Ns`控制字符串总长度 使用空格进行占位

`%N.f`控制保留几位小数

```bash
root@landers:/coprintf "%.2f" 1.00000
1.00
```

### 转义符号

| 序列  | 说明                                                         |
| :---- | :----------------------------------------------------------- |
| \a    | 警告字符，通常为ASCII的BEL字符                               |
| \b    | 后退                                                         |
| \c    | 抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略 |
| \f    | 换页（formfeed）                                             |
| \n    | 换行                                                         |
| \r    | 回车（Carriage return）                                      |
| \t    | 水平制表符                                                   |
| \v    | 垂直制表符                                                   |
| \\    | 一个字面上的反斜杠字符                                       |
| \ddd  | 表示1到3位数八进制值的字符。仅在格式字符串中有效             |
| \0ddd | 表示1到3位的八进制值字符                                     |

